<!DOCTYPE html>
<html ng-app="myapp">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TODO APP DEMO</title>
	<script type="text/javascript" src="../angular.js"></script>
	<link rel="stylesheet" href="../../bootstrap/css/bootstrap.css">
	<script type="text/javascript">
	
		
	
		angular.module("myapp",[])
			.controller("todoCtrl",function($scope){
				var todoList = [
								{done : true, title : "AngularJS 독서"},
								{done : false, title : "AngularJS 공부하기"},
								{done : false, title : "개인 프로젝트 구성"}
							];
				
				console.log("controller");
				$scope.appName = "AngularJS TODO APP";
				$scope.todoList = todoList;
				
				$scope.addNewTodo = function(newTitle){
					todoList.push({done : false , title : newTitle});
					$scope.newTitle = '';
				}
				
				$scope.archive = function(){
					for(var i = $scope.todoList.length - 1 ; i >=0 ; i--){
						if($scope.todoList[i].done){
							$scope.todoList.splice(i,1)
						}
					}
				}
				
				$scope.remain = function(){
					var remainCount = 0;
					
					angular.forEach($scope.todoList,function(value,key){
						if(value.done === false){
							remainCount++;
						}
					});
					
					return remainCount;
				}
			}); 
			
			
	</script>
</head>
<body class="well" data-ng-controller = "todoCtrl">
	<h1>{{appName}}</h1>
	<p>
	
	16m	전체 할 일 <strong>{{todoList.length}}</strong>개 / 남은 할일은 <strong>{{remain()}}</strong>개
		[<a href="" data-ng-click="archive()">보관하기</a>]
	</p>
	<ul class="list-unstyled">
		<li data-ng-repeat="todo in todoList" class="checkbox" >
			<input type="checkbox" data-ng-model="todo.done">{{todo.title}}
		</li>
	</ul>
	
	<form action="" name = "newItemForm" class="form-inline">
		<div class="form-group">
			<label class="sr-only" for="newItemText">
				새로운 할 일
			</label>
			<input type="text" class="form-control" name="newItemText" placeholder="새로운 할 일" data-ng-model="newTitle">
		</div>
		<button type="button" class="btn btn-default" data-ng-click="addNewTodo(newTitle)">
			추가
		</button>
	</form>
</body>
</html>